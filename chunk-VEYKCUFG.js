import{D as v,i as m,u as O}from"./chunk-HQ3KQCWE.js";import{B as x,Ca as _,E as b,F as h,aa as u,ba as a,db as k,ga as s,h as y,jb as l,k as c,p as D,sc as E,ta as f,wc as g,ya as p}from"./chunk-T223ME74.js";var d=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},w=class extends d{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,n,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=o}},C=class extends d{templateRef;viewContainerRef;context;injector;constructor(t,e,i,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},R=class extends d{element;constructor(t){super(),this.element=t instanceof _?t.nativeElement:t}},S=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof w)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof C)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof R)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var P=class extends S{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,n,o){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=n,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,n=i.get(k,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:n,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=E(t.component,{elementInjector:t.injector||this._defaultInjector||f.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);n!==-1&&e.remove(n)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var q=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=l({type:r});static \u0275inj=a({})}return r})();var L=20,Qe=(()=>{class r{_ngZone=s(p);_platform=s(m);_document=s(g,{optional:!0});constructor(){}_scrolled=new c;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=L){return this._platform.isBrowser?new y(i=>{this._globalSubscription||this._addGlobalListener();let n=e>0?this._scrolled.pipe(h(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):D()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(b(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let n=O(i),o=e.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return x(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var j=20,Xe=(()=>{class r{_platform=s(m);_viewportSize;_change=new c;_changeListener=e=>{this._change.next(e)};_document=s(g,{optional:!0});constructor(){s(p).runOutsideAngular(()=>{if(this._platform.isBrowser){let i=this._getWindow();i.addEventListener("resize",this._changeListener),i.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),n=e.documentElement,o=n.getBoundingClientRect(),z=-o.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,M=-o.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:z,left:M}}change(e=j){return e>0?this._change.pipe(h(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var F=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=l({type:r});static \u0275inj=a({})}return r})(),Ke=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=l({type:r});static \u0275inj=a({imports:[v,F,v,F]})}return r})();export{C as a,P as b,q as c,Qe as d,Xe as e,F as f,Ke as g};
